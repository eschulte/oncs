# -*- mode:org -*-
#+Title: Oncs -- A distributed lisp virtual machine
#+Author: Eric Schulte

There is a large grid world of ONC structures linked by local relative
pointers.  These linked ONC structures encode λ-expressions and
perform calculations through λ-application.  All actions consist of
passing messages between ONCS.  Messages are used to maintain
reference counts, to duplicate and replace linked ONC structures, and
to propagate λ-applications across large structures.

The main design goals of this effort are

- physicality of the computational abstraction
  meaning no action at a distance and indefinite scalability

- homogeneity among elements
  meaning no privileged points in space or time

- fully implicitly parallel
  meaning every portion of the world executes simultaneously


** ONC
Composed of an integer reference counter and four pointers.
:         an ONC
: +-------------------+
: |       #refs       |
: +---------+---------+
: |  mcar   |  car    |
: |         |         |
: +---------+---------+
: |  mcdr   |  cdr    |
: |         |         |
: +---------+---------+

Oncs perform the following actions.
- reference count maintenance, an onc with ref≡0 is free
- propagate a λ-application message through self
- replace self with a value or ONC
- find nearby free space for new oncs

** Pointer
Composed of a header indicating type of contents, then car and cdr
which hold integer values.
:      a Pointer
: +-----------------+
: | hdr | car | cdr |
: +-----------------+

| header  | interpretation                       |
|---------+--------------------------------------|
| NIL     | nil                                  |
| POINTER | local pointer (car,cdr)              |
| INTEGER | integer car+cdr                      |
| SYMBOL  | symbol car (cdr for disambiguation?) |
| LAMBDA  | λ same as symbol                     |
| PRIMOPT | primitive integer operation          |
| CURRIED | curried primitive integer operation  |
| UNPACK  | unpack "(foo)" into "foo"            |
| BOOLEAN | Boolean true or false                |

** Message
Composed of a coordinate and two pointers.  Messages are passed
between ONCS and cause ONCS to perform local actions.
:        a Message
: +---------------------+
: | coord | mcar | mcdr |
: +---------------------+

The message values and their meanings are.
| value   | interpretation                                    |
|---------+---------------------------------------------------|
| NIL     | default, runs the waiting loop                    |
| INTEGER | increments or decrements the ref counter by value |
| LAMBDA  | λ-application, ptrs specify variable and value    |
| others  | undefined                                         |
