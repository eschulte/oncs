# -*- mode:org -*-
#+Title: Oncs -- A distributed lisp virtual machine
#+Author: Eric Schulte

There is a large grid world of ONC structures linked by local relative
pointers.  These linked ONC structures encode λ-expressions and
perform calculations through λ-application.  All actions consist of
passing messages between ONCS.  Messages are used to maintain
reference counts, to duplicate and replace linked ONC structures, and
to propagate λ-applications across large structures.

The main design goals of this effort are

- physicality of the computational abstraction
  meaning no action at a distance and indefinite scalability

- homogeneity among elements
  meaning no privileged points in space or time

- fully implicitly parallel
  meaning every portion of the world executes simultaneously


** ONC
Linked structures composed of an integer reference counter and four
pointers.
:         an ONC
: +-------------------+
: |       #refs       |
: +---------+---------+
: |  mcar   |  car    |
: |         |         |
: +---------+---------+
: |  mcdr   |  cdr    |
: |         |         |
: +---------+---------+

Oncs perform the following actions.
- reference count maintenance, an onc with ref≡0 is free
- propagate a λ-application message through self
- replace self with a value or ONC
- find nearby free space for new oncs

** Pointer
Composed of a header indicating type of contents, then car and cdr
which hold integer values.

| header | interpretation                       |
|--------+--------------------------------------|
|      0 | nil                                  |
|      1 | local pointer (car,cdr)              |
|      2 | integer car+cdr                      |
|      3 | symbol car (cdr for disambiguation?) |
|      4 | λ same as symbol                     |
|      5 | primitive integer operation          |
|      6 | curried primitive integer operation  |
|      7 | unpack "(foo)" into "foo"            |
|      8 | Boolean true or false                |

** Messages
Composed of a coordinate and two pointers.  Messages are passed
between ONCS and cause ONCS to perform local actions.

The message values and their meanings are.
| NIL     | default, runs the waiting loop                    |
| INTEGER | increments or decrements the ref counter by value |
| LAMBDA  | λ-application, ptrs specify variable and value    |
| SYMBOL  | undefined                                         |
| LOCAL   | undefined                                         |
